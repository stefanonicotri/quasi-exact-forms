\documentclass[11pt]{article}

% Packages for math, formatting, and graphics
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amssymb, amsthm}
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
\usepackage{tcolorbox}
\usepackage{hyperref}
\usepackage{enumitem}

% Setup custom colored boxes to match the HTML styling
\newtcolorbox{defbox}[1]{colback=blue!5, colframe=blue!75!black, fonttitle=\bfseries, title={#1}, arc=4pt, boxrule=1pt, left=10pt, right=10pt, top=10pt, bottom=10pt}
\newtcolorbox{warnbox}[1]{colback=yellow!10, colframe=orange!90!black, fonttitle=\bfseries, title={#1}, arc=4pt, boxrule=1pt, left=10pt, right=10pt, top=10pt, bottom=10pt}
\newtcolorbox{stepbox}[1]{colback=white, colframe=gray!40, fonttitle=\bfseries, coltitle=black, title={#1}, arc=4pt, boxrule=1pt, left=10pt, right=10pt}

\title{\textbf{Quasi-Exact Differential Forms \& Hodge Decomposition}}
\author{Stefano Nicotri}
\date{}

\begin{document}

\maketitle

\begin{abstract}
\noindent In classical vector calculus and differential geometry, fields are often categorized in a binary way: they are either perfectly conservative (exact) or they are path-dependent (non-exact). However, in real-world physics, "non-exactness" is rarely an all-or-nothing property. A flow might be overwhelmingly conservative, driven entirely by a potential gradient, but contaminated by a tiny, localized vortex. 

This document explores the concept of \textbf{quasi-exactness}---the mathematical framework used to definitively measure exactly \textit{how} conservative a path-dependent field is. By utilizing the \textbf{Hodge Decomposition Theorem}, we can mathematically slice any messy, non-exact differential form into perfectly orthogonal "exact" (gradient) and "co-exact" (swirling) components. By comparing the $L^2$ norms (energies) of these separated layers, we can assign a strict, quantitative percentage to the field's exactness.
\end{abstract}



\vspace{1em}

\section{Formal Definitions and Framework}
Before decomposing a form, we rigorously define the space it lives in and the operators acting upon it. Let $M$ be an $n$-dimensional oriented Riemannian manifold.

\begin{defbox}{The Space of Differential $k$-forms ($\Omega^k(M)$)}
A \textbf{differential $k$-form} is a completely antisymmetric covariant $k$-tensor field. Geometrically, at every point $p$ on the manifold $M$, it assigns an alternating, multilinear map that takes $k$ tangent vectors as input and yields a real number (a scalar):
\[ \omega_p : \underbrace{T_p M \times \dots \times T_p M}_{k \text{ times}} \to \mathbb{R} \]
The collection of all such smooth $k$-forms over the entire manifold forms an infinite-dimensional vector space denoted as $\mathbf{\Omega^k(M)}$. To build intuition:
\begin{itemize}[noitemsep]
    \item \textbf{$\Omega^0(M)$ (0-forms):} Smooth scalar functions, like potential energy $f(x,y)$.
    \item \textbf{$\Omega^1(M)$ (1-forms):} Covector fields, which naturally integrate over lines/curves (e.g., work, circulation).
    \item \textbf{$\Omega^2(M)$ (2-forms):} Objects that naturally integrate over surfaces (e.g., magnetic flux).
    \item \textbf{$\Omega^n(M)$ ($n$-forms):} Top-forms, representing the fundamental volume elements for the space.
\end{itemize}
\end{defbox}

\begin{defbox}{The Exterior Derivative ($d$)}
The exterior derivative is a coordinate-free differential operator $d: \Omega^k(M) \to \Omega^{k+1}(M)$ that generalizes the concepts of the gradient, curl, and divergence from vector calculus. It maps a $k$-form to a $(k+1)$-form and satisfies three crucial properties:
\begin{enumerate}[noitemsep]
    \item \textbf{Gradient Action:} For a 0-form (scalar function) $f$, $df$ is its standard differential.
    \item \textbf{Graded Leibniz Rule:} For a $k$-form $\alpha$ and any form $\beta$, $d(\alpha \wedge \beta) = d\alpha \wedge \beta + (-1)^k \alpha \wedge d\beta$.
    \item \textbf{Nilpotence:} $d^2 = d \circ d = 0$. Geometrically, this expresses the profound topological principle that "the boundary of a boundary is zero."
\end{enumerate}
\end{defbox}

\begin{defbox}{The Hodge Star Operator ($\star$)}
The Hodge star is a linear isomorphism $\star: \Omega^k(M) \to \Omega^{n-k}(M)$ that depends entirely on the manifold's metric tensor $g$ and its orientation. It formally maps a $k$-dimensional form to its orthogonal $(n-k)$-dimensional "complement" (its dual).

\textbf{General Definition:} On an $n$-dimensional oriented Riemannian manifold with a volume form $dV$, the Hodge star is uniquely defined by the relation:
\[ \alpha \wedge \star\beta = \langle \alpha, \beta \rangle_g \, dV \]
where $\alpha$ and $\beta$ are any two $k$-forms, and $\langle \alpha, \beta \rangle_g$ is the local inner product induced by the metric.

\textbf{Specialization to $\mathbb{R}^2$:} In 2D Euclidean space ($n=2$) with volume form $dV = dx \wedge dy$, the Hodge star geometrically acts as a 90-degree rotation on 1-forms:
\[ \star dx = dy, \quad \star dy = -dx \]
\[ \star 1 = dx \wedge dy, \quad \star(dx \wedge dy) = 1 \]

\textbf{Specialization to $\mathbb{R}^3$:} In 3D Euclidean space ($n=3$) with volume form $dV = dx \wedge dy \wedge dz$, the Hodge star establishes the duality between 1-forms and 2-forms, mimicking the cross product:
\[ \star dx = dy \wedge dz, \quad \star dy = dz \wedge dx, \quad \star dz = dx \wedge dy \]
\[ \star(dy \wedge dz) = dx, \quad \star(dz \wedge dx) = dy, \quad \star(dx \wedge dy) = dz \]



\textbf{Specialization to $\mathbb{R}^4$:} In 4D Euclidean space ($n=4$), the Hodge star maps 2-forms directly to other 2-forms, forming the foundation of \textit{self-dual} fields in gauge theory:
\[ \star(dx_1 \wedge dx_2) = dx_3 \wedge dx_4 \]
\[ \star(dx_1 \wedge dx_3) = -dx_2 \wedge dx_4 \]
\[ \star(dx_1 \wedge dx_4) = dx_2 \wedge dx_3 \]
\end{defbox}

\begin{defbox}{The $L^2$ Inner Product and Codifferential ($\delta$)}
\textbf{Inner Product:} For two $k$-forms $\alpha, \beta \in \Omega^k(M)$, the global $L^2$ inner product is defined as:
\[ \langle \alpha, \beta \rangle_{L^2} = \int_M \alpha \wedge \star\beta \]
This induces a norm $\|\omega\|^2 = \langle \omega, \omega \rangle_{L^2}$, representing the total "energy" of the field.

\textbf{Codifferential:} The formal adjoint of $d$ is the codifferential $\delta: \Omega^k \to \Omega^{k-1}$, which acts as a generalized divergence:
\[ \delta = (-1)^{n(k-1)+1} \star d \star \]
Because $d^2 = 0$, it immediately follows that $\delta^2 = 0$.
\end{defbox}

\section{The Hodge Decomposition Theorem}
The Hodge Decomposition states that the space of differential $k$-forms on a closed Riemannian manifold splits into three mutually orthogonal subspaces:
\[ \Omega^k(M) = d\Omega^{k-1}(M) \oplus \delta\Omega^{k+1}(M) \oplus \mathcal{H}^k(M) \]

Any $k$-form $\omega$ can be uniquely written as $\omega = d\alpha + \delta\beta + \gamma$, where:
\begin{itemize}[noitemsep]
    \item \textbf{$d\alpha$ (Exact Component):} Path-independent. Analogous to a gradient flow.
    \item \textbf{$\delta\beta$ (Co-Exact Component):} Divergence-free. Analogous to circulating flows/swirls.
    \item \textbf{$\gamma$ (Harmonic Component):} Forms satisfying $\Delta_{dR} \gamma = (d\delta + \delta d)\gamma = 0$. These depend strictly on the manifold's topology (holes).
\end{itemize}

\section{Solving the Differential Equations (2D Disk)}
Let's decompose a specific non-exact 1-form in Cartesian coordinates $(x,y)$ over the unit disk $D$ where $x^2 + y^2 \le 1$:
\[ \omega = x^2y \, dx + xy^2 \, dy \]
Because $\mathbb{R}^2$ has no holes, the harmonic component $\gamma = 0$. Our decomposition is $\omega = df + \delta\beta$, where $f(x,y)$ is a scalar 0-form and $\beta = g(x,y) dx \wedge dy$ is a 2-form. By applying the operators $d$ and $\delta$, we decouple this into two standard Poisson equations:
\[ \nabla^2 f = -\delta\omega = 4xy \]
\[ \nabla^2 g = -\star d\omega = x^2 - y^2 \]

\subsection*{Mathematical Appendix 1: Proof of the Decoupling}
The decoupling relies on the nilpotence of the operators ($d^2 = 0$ and $\delta^2 = 0$). Starting with $\omega = df + \delta\beta$:

\textbf{Part 1: Isolating the Exact Potential ($f$)}
\begin{enumerate}[noitemsep]
    \item Apply $\delta$ to both sides: $\delta\omega = \delta(df) + \delta(\delta\beta)$
    \item Apply Nilpotence ($\delta^2 = 0$): $\delta\omega = \delta d f + 0$
    \item Convert to standard Laplacian: For a scalar $f$, $\delta d f = -\nabla^2 f$. Thus, $\nabla^2 f = -\delta\omega$.
\end{enumerate}

\textbf{Part 2: Isolating the Co-Exact Potential ($g$)}
\begin{enumerate}[noitemsep]
    \item Apply $d$ to both sides: $d\omega = d(df) + d(\delta\beta)$
    \item Apply Nilpotence ($d^2 = 0$): $d\omega = 0 + d\delta\beta$
    \item Expand $\delta\beta$ in 2D: $\delta\beta = -\star d \star (g \, dx \wedge dy) = g_y dx - g_x dy$
    \item Apply $d$ and convert: $d(\delta\beta) = -(\nabla^2 g) dx \wedge dy$. Applying the Hodge star yields $\nabla^2 g = -\star d\omega$.
\end{enumerate}

\begin{warnbox}{Note on Notation: The Geometer's vs. Physicist's Laplacian}
The general operator acting on forms is the \textbf{Laplace-de Rham operator}, $\Delta_{dR} = \delta d + d\delta$.
For a 0-form $f$, $\delta f = 0$, so $\Delta_{dR} f = \delta d f$.
Geometers define $\Delta_{dR}$ to be \textit{positive-definite}. However, the standard physics Laplacian $\nabla^2 f = \nabla \cdot \nabla f$ is \textit{negative-definite}. Therefore, we must write $\Delta_{dR} f = \delta d f = -\nabla^2 f$.
\end{warnbox}

\subsection*{Mathematical Appendix 2: Deriving the Boundary Conditions}
To understand why the boundary conditions must be set up this way, we translate our differential forms into standard 2D vector fields.

\begin{defbox}{Clarifying Vector Notation}
In the math below, you will see vectors written with angle brackets, like $\langle \omega_x, \omega_y \rangle$. It is extremely important to note that \textbf{this is not an inner product (scalar product)}. In vector calculus, angle brackets are frequently used as \textit{component notation} to define a vector's horizontal and vertical parts, distinguishing it from a coordinate point $(x,y)$.
\end{defbox}

\begin{itemize}[noitemsep]
    \item Original 1-form vector field: $\vec{V} = \langle \omega_x, \omega_y \rangle = \omega_x \hat{i} + \omega_y \hat{j}$
    \item Exact part ($df$) as a gradient field: $\vec{E} = \nabla f = \langle f_x, f_y \rangle = f_x \hat{i} + f_y \hat{j}$
    \item Co-exact part ($\delta\beta$) as a curl field: $\vec{C} = \nabla \times (g \hat{k}) = \langle g_y, -g_x \rangle = g_y \hat{i} - g_x \hat{j}$
\end{itemize}

Our decomposition is $\vec{V} = \vec{E} + \vec{C}$. For the total energy to split perfectly, the cross-energy overlap between the two separated fields must be exactly zero over the entire disk $D$:
\[ \iint_D (\vec{E} \cdot \vec{C}) \, dA = \iint_D (\nabla f \cdot \vec{C}) \, dA = 0 \]

\subsubsection*{1. Applying the Divergence Theorem}
Using the vector identity $\nabla \cdot (f\vec{C}) = \nabla f \cdot \vec{C} + f(\nabla \cdot \vec{C})$ and noting that the divergence of a curl is zero ($\nabla \cdot \vec{C} = 0$), we rewrite the integral:
\[ \iint_D \nabla \cdot (f\vec{C}) \, dA \]
By the Divergence Theorem, this 2D area integral becomes a 1D line integral around the boundary curve $\partial D$:
\[ \iint_D \nabla \cdot (f\vec{C}) \, dA = \oint_{\partial D} f (\vec{C} \cdot \hat{n}) \, ds \]



For orthogonality, this boundary integral \textbf{must be zero} for any arbitrary scalar potential $f$. Therefore, we are forced to set:
\[ \vec{C} \cdot \hat{n} = 0 \text{ on } \partial D \]

\subsubsection*{2. The Geometry of the Boundary ($\hat{n}$ and $\hat{t}$)}
To evaluate the fields at the boundary of the unit circle ($x^2 + y^2 = 1$), we need its outward unit normal vector $\hat{n}$ and its counter-clockwise unit tangent vector $\hat{t}$.

\begin{itemize}
    \item \textbf{The Outward Normal ($\hat{n}$):} There are two ways to mathematically confirm this:
    \begin{itemize}
        \item \textit{The Geometric Approach:} The position vector pointing from the origin to any point $(x,y)$ on the unit circle is $\vec{r} = x\hat{i} + y\hat{j}$. Since a radius is always perpendicular to the circle's tangent, and its length is $\sqrt{x^2+y^2} = 1$, this position vector is exactly our outward unit normal: $\hat{n} = x\hat{i} + y\hat{j}$.
        \item \textit{The Calculus Approach (Gradient):} Define the 2D plane with the function $F(x,y) = x^2 + y^2$. The unit circle is simply the level curve $F(x,y) = 1$. The gradient $\nabla F$ always points perpendicular to level curves, giving us $\nabla F = 2x\hat{i} + 2y\hat{j}$. To make it a unit vector, we divide by its magnitude on the circle ($\|\nabla F\| = \sqrt{(2x)^2+(2y)^2} = 2\sqrt{x^2+y^2} = 2(1) = 2$). Therefore, $\hat{n} = \frac{\nabla F}{\|\nabla F\|} = \frac{2x\hat{i} + 2y\hat{j}}{2} = x\hat{i} + y\hat{j}$.
    \end{itemize}
    \item \textbf{The Tangent Vector ($\hat{t}$):} A tangent vector must be perfectly orthogonal to the normal, meaning their dot product is zero ($\hat{n} \cdot \hat{t} = 0$). By swapping the $x$ and $y$ components and negating one, we satisfy this: $x(-y) + y(x) = 0$. We choose $\hat{t} = -y\hat{i} + x\hat{j}$ (rather than $y\hat{i} - x\hat{j}$) because evaluating it at $(1,0)$ gives $0\hat{i} + 1\hat{j}$, which points UP, matching the standard counter-clockwise (positive) orientation required by Green's Theorem.
\end{itemize}



\subsubsection*{3. The Dirichlet Condition for $g$}
Using the boundary vectors derived above, let's calculate $\vec{C} \cdot \hat{n}$:
\[ \vec{C} \cdot \hat{n} = \langle g_y, -g_x \rangle \cdot \langle x, y \rangle = x g_y - y g_x \]
Notice that the directional derivative of $g$ along the boundary tangent $\hat{t}$ is identical:
\[ \frac{\partial g}{\partial t} = \nabla g \cdot \hat{t} = \langle g_x, g_y \rangle \cdot \langle -y, x \rangle = -y g_x + x g_y \]
Therefore, $\vec{C} \cdot \hat{n} = \frac{\partial g}{\partial t} = 0$. If the tangential derivative of $g$ is zero, $g$ must be constant on the boundary. We choose $g = 0$, giving us our \textbf{Dirichlet condition}.

\subsubsection*{4. The Neumann Condition for $f$}
Taking the dot product of our original decomposition $\vec{V} = \vec{E} + \vec{C}$ with the normal vector $\hat{n}$ gives:
\[ \vec{V} \cdot \hat{n} = \vec{E} \cdot \hat{n} + \vec{C} \cdot \hat{n} \]
Since we enforced $\vec{C} \cdot \hat{n} = 0$, that term vanishes. Substituting $\vec{E} = \nabla f$ gives:
\[ \vec{V} \cdot \hat{n} = \nabla f \cdot \hat{n} = \frac{\partial f}{\partial n} \text{ on } \partial D \]
The exact part $f$ absorbs 100\% of the normal boundary flux of the original field $\vec{V}$, giving us our \textbf{Neumann condition}.

\vspace{1em}

\begin{stepbox}{Step 3A: Solving for the Exact Potential $f(x,y)$}
\textbf{Particular Solution:} $\nabla^2 f = 4xy \implies f_p = \frac{1}{3}(x^3y + xy^3)$. \\
\textbf{Harmonic Correction:} To satisfy the Neumann boundary condition on the unit circle without breaking the Poisson equation, we subtract $h(x,y) = \frac{1}{6}xy$. \\
\textbf{Final Solution:} $f(x,y) = \frac{1}{3}(x^3y + xy^3) - \frac{1}{6}xy$
\end{stepbox}

\begin{stepbox}{Step 3B: Solving for the Co-Exact Potential $g(x,y)$}
\textbf{Particular Solution:} $\nabla^2 g = x^2 - y^2 \implies g_p = \frac{1}{12}(x^4 - y^4)$. \\
\textbf{Harmonic Correction:} To satisfy the Dirichlet boundary condition ($g=0$) on the unit circle, we subtract the harmonic function $h(x,y) = \frac{1}{12}(x^2 - y^2)$. \\
\textbf{Final Solution:} $g(x,y) = \frac{1}{12}(x^4 - y^4) - \frac{1}{12}(x^2 - y^2)$
\end{stepbox}

\section{The Final "Percentage of Exactness"}
Now that we have strictly orthogonal components, their $L^2$ norms (energies) satisfy the Pythagorean theorem:
\[ \|\omega\|^2 = \|df\|^2 + \|\delta\beta\|^2 \]
Integrating the squared vector magnitudes over the unit disk in polar coordinates yields:
\begin{itemize}[noitemsep]
    \item \textbf{Total Energy ($\|\omega\|^2$):} $\frac{\pi}{32}$
    \item \textbf{Energy of the Exact Part ($\|df\|^2$):} $\frac{\pi}{36}$
    \item \textbf{Energy of the Co-exact Part ($\|\delta\beta\|^2$):} $\frac{\pi}{288}$
\end{itemize}

Notice that $\frac{\pi}{36} + \frac{\pi}{288} = \frac{9\pi}{288} = \frac{\pi}{32}$. The sum of the parts perfectly equals the whole. To quantify how "quasi-exact" our original path-dependent field is, we divide the exact energy by the total energy:
\[ \text{Percentage Exact} = \frac{\pi/36}{\pi/32} = \frac{8}{9} \approx 88.89\% \]

\textbf{Conclusion:} Even though $\omega = x^2y \, dx + xy^2 \, dy$ is officially non-exact, we have quantitatively proven that over a unit disk, \textbf{88.89\%} of its energy behaves perfectly conservatively. Only the remaining 11.11\% contributes to the non-exact, path-dependent swirl.

\end{document}
